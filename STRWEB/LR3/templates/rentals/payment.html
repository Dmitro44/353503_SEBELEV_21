{% extends 'base.html' %}

{% block title %}Оплата{% endblock %}

{% block content %}
<div class="payment-container">
    <div class="payment-header">
        <h1>Оплата</h1>
    </div>

    <div class="order-summary">
        <h2>Ваш заказ</h2>
        <table class="table">
            <thead>
                <tr>
                    <th>Автомобиль</th>
                    <th>Дни</th>
                    <th>Цена за день</th>
                    <th>Всего</th>
                </tr>
            </thead>
            <tbody>
                {% for item in cart_items %}
                    <tr>
                        <td>{{ item.vehicle.car_model }}</td>
                        <td>{{ item.rental_days }}</td>
                        <td>{{ item.vehicle.daily_rental_price }} $</td>
                        <td>{{ item.total_price }} $</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <h3 class="total-price">Итого к оплате: {{ total_cart_price }} $</h3>
    </div>

    <div class="payment-form-section">
        <h2>Платежная информация</h2>
        <form method="post" class="payment-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="card_number" class="form-label">Номер карты</label>
                <input type="text" id="card_number" name="card_number" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="card_holder" class="form-label">Имя владельца</label>
                <input type="text" id="card_holder" name="card_holder" class="form-control" required>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="expiry_date" class="form-label">Срок действия</label>
                    <input type="text" id="expiry_date" name="expiry_date" placeholder="MM/YY" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="cvv" class="form-label">CVV</label>
                    <input type="text" id="cvv" name="cvv" class="form-control" required>
                </div>
            </div>
            <button type="submit" class="btn btn-primary btn-submit">Оплатить</button>
        </form>
    </div>
</div>
{% endblock %}
